<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Proyecto 3D: Pasillo + Popup Separados</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <!-- Canvas del pasillo (FPS) -->
  <canvas id="corridorCanvas"></canvas>

  <!-- Crosshair en el centro -->
  <div id="crosshair">
    <img src="crosshair.png" width="32" height="32" alt="Crosshair" />
  </div>

  <!-- Popup modal para el visor con OrbitControls -->
  <div id="popupModal">
    <div id="popupContent">
      <canvas id="popupCanvas"></canvas>
      <div id="popupButtons">
        <button id="btnClose" class="popup-btn">Cerrar</button>
        <button id="btnBuy" class="popup-btn">Comprar</button>
      </div>
    </div>
  </div>

  <!-- Import map para 'three' -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.module.js"
    }
  }
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/nipplejs/0.9.0/nipplejs.min.js"></script>

  <!-- Cargamos el m贸dulo del popup -->
  <script type="module" src="./js/popup.js"></script>

  <!-- Cargamos el m贸dulo del pasillo -->
  <script type="module" src="./js/corridor.js"></script>

  <!-- Script principal para inicializar ambos m贸dulos -->
  <script type="module">
    import { initCorridor, animateCorridor } from './js/corridor.js';
    import { initPopup } from './js/popup.js';

    initPopup();
    initCorridor();
    animateCorridor();
  </script>

  <!-- Contenedor para el joystick virtual en m贸viles -->
  <div id="joystickZone" style="position: absolute; left: 50%; bottom: 50%; width: 100px; height: 100px;"></div>
  <div id="rotationZone" style="position: absolute; right: 25%; bottom: 25%; width: 100px; height: 100px;"></div>
</body>
</html>
